<section class="register-page">
  <div class="register-visual" role="img" aria-label="Sign up illustration">
    <!-- Use an actual image element so the asset path resolves reliably in dev and prod -->
    <img
      src="/assets/images/backgrounds/sign_up.png"
      alt="Sign up illustration"
      loading="eager"
    />
  </div>

  <div class="register-card">
    <h2>{{ "features.register.title" | translate }}</h2>

    <button class="google-btn" type="button" (click)="(0)">
      <span class="google-icon" aria-hidden="true">
        <!-- simple inline Google G svg -->
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M17.64 9.2c0-.6-.05-1.05-.15-1.5H9v2.85h4.84c-.2 1.15-.95 2.45-2.5 3.25l-.02.13 3.62 2.8.25.03c2.3-2.15 3.6-5.25 3.6-8.66z"
            fill="var(--google-blue)"
          />
          <path
            d="M9 18c2.43 0 4.47-.8 5.96-2.17l-2.86-2.2c-.8.54-1.83.88-3.1.88-2.38 0-4.4-1.6-5.12-3.76l-.11.01-2.95 2.28-.04.11C2.99 15.9 6.74 18 9 18z"
            fill="var(--google-green)"
          />
          <path
            d="M3.88 10.78a5.4 5.4 0 010-3.56l-.02-.12L.94 4.8l-.1.05A8.99 8.99 0 000 9c0 1.47.35 2.86.94 4.1l2.94-2.32z"
            fill="var(--google-yellow)"
          />
          <path
            d="M9 3.6c1.32 0 2.5.45 3.43 1.34l2.57-2.56C13.46.9 11.42 0 9 0 6.74 0 3.99 2.1 2.09 5.46l2.95 2.28C4.6 5.21 6.62 3.6 9 3.6z"
            fill="var(--google-red)"
          />
        </svg>
      </span>
      {{ "features.register.googleSignUp" | translate }}
    </button>

    <div class="divider">
      <span>{{ "common.or" | translate }}</span>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
      <app-input
        formControlName="username"
        [placeholder]="'common.labels.username' | translate"
        [error]="
          submitted() || username.touched
            ? errorMessage(username, 'common.labels.username')
            : null
        "
      ></app-input>

      <app-input
        formControlName="email"
        type="email"
        [placeholder]="'common.labels.email' | translate"
        [error]="
          submitted() || email.touched
            ? errorMessage(email, 'common.labels.email')
            : null
        "
      ></app-input>

      <app-password
        formControlName="password"
        [placeholder]="'common.labels.password' | translate"
        [showToggle]="true"
        [strength]="true"
        [error]="
          submitted() || password.touched
            ? errorMessage(password, 'common.labels.password')
            : null
        "
      ></app-password>

      <label class="terms">
        <input type="checkbox" formControlName="terms" />
        {{ "common.labels.agreeTo" | translate }}
        <a href="#">{{ "common.terms" | translate }}</a>
        @if (submitted() || terms.touched) {
          <p-message severity="error" variant="simple" size="small">{{
            errorMessage(terms)
          }}</p-message>
        }
      </label>

      <app-button
        class="btn-full"
        type="submit"
        [label]="'common.buttons.register' | translate"
        [loading]="loading()"
        [disabled]="loading() || form.invalid"
      ></app-button>

      <div class="signin">
        {{ "features.register.already" | translate }}
        <a routerLink="/login">{{ "common.buttons.signin" | translate }}</a>
      </div>
    </form>
  </div>
</section>
